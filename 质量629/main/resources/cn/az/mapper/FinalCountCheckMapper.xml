<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.az.mapper.FinalCountCheckMapper">

	<resultMap id="selectmap" type="cn.az.bean.FinalCountCheck">
		<id column="f_count_check_id" jdbcType="VARCHAR" property="fCountCheckId" />
		<result column="order_id" jdbcType="VARCHAR" property="orderId" />
		<result column="check_item" jdbcType="VARCHAR" property="checkItem" />
		<result column="sample" jdbcType="INTEGER" property="sample" />
		<result column="check_number" jdbcType="INTEGER" property="checkNumber" />
		<result column="unqualify" jdbcType="INTEGER" property="unqualify" />
		<result column="qualify" jdbcType="DECIMAL" property="qualify" />
		<result column="cdate" jdbcType="TIMESTAMP" property="cdate" />
		<result column="measure_data" jdbcType="VARCHAR" property="measureData" />
		<result column="emp_id" jdbcType="VARCHAR" property="empId" />
		<result column="emp_Name" jdbcType="VARCHAR" property="empName" />
		<result column="result" jdbcType="VARCHAR" property="result" />
		<result column="note" jdbcType="VARCHAR" property="note" />
	</resultMap>



    <!--新增-->
    <insert id="insert" parameterType="cn.az.bean.FinalCountCheck">
			 insert into  final_count_check
		  values (#{fCountCheckId},#{orderId},#{checkItem},#{sample},
			#{checkNumber},#{unqualify},#{qualify},#{cdate},
			#{measureData},#{empId},#{result},#{note})
	</insert>

    <!--修改-->
    <update id="updateAll" parameterType="cn.az.bean.FinalCountCheck">
			update final_count_check set
				f_count_check_id=#{fCountCheckId},
				order_id=#{orderId},
				check_item=#{checkItem},
				sample=#{sample},
				check_number=#{checkNumber},
				unqualify=#{unqualify},
				qualify=#{qualify},
				cdate=#{cdate},
				measure_data=#{measureData},
				emp_id=#{empId},
				result=#{result},
				note=#{note}
			where f_count_check_id= #{fCountCheckId}
	</update>

	<!--修改note-->
	<update id="updateOne" parameterType="cn.az.bean.FinalCountCheck">
			update final_count_check set
				note=#{note}
			where f_count_check_id= #{fCountCheckId}
	</update>

    <!--删除
    <delete id="deleteBatch" parameterType="string">
        delete from final_count_check where f_count_check_id= #{ids}
    </delete>-->
    <!--删除-->
    <delete id="deleteBatch" parameterType="string">
        delete from final_count_check where f_count_check_id in
        <foreach collection="array" separator="," item="ids" open="(" close=")">
            #{ids}
        </foreach>

    </delete>

    <!--查询-->
    <select id="selectAll" resultMap="selectmap">
		SELECT
final_count_check.f_count_check_id,
final_count_check.order_id,
final_count_check.check_item,
final_count_check.sample,
final_count_check.check_number,
final_count_check.unqualify,
final_count_check.qualify,
final_count_check.cdate,
final_count_check.measure_data,
final_count_check.emp_id,
final_count_check.result,
final_count_check.note,
employee.emp_name
FROM
employee ,
final_count_check
where employee.emp_id=final_count_check.emp_id
	</select>
    <!--//查询id-->
    <select id="selectById" parameterType="string" resultType="cn.az.bean.FinalCountCheck">
		select * from final_count_check where f_count_check_id= #{ids}
	</select>



	<!--查询by value 多表1-->
	<select id="selectRightOne" resultMap="selectmap">
		SELECT
final_count_check.f_count_check_id,
final_count_check.order_id,
final_count_check.check_item,
final_count_check.sample,
final_count_check.check_number,
final_count_check.unqualify,
final_count_check.qualify,
final_count_check.cdate,
final_count_check.measure_data,
final_count_check.emp_id,
final_count_check.result,
final_count_check.note,
employee.emp_name
FROM
employee ,
final_count_check
where employee.emp_id=final_count_check.emp_id and final_count_check.f_count_check_id like CONCAT('%', #{searchValueint}, '%')
	</select>

	<!--查询by value 多表2-->
	<select id="selectRightTwo" resultMap="selectmap">
		SELECT
final_count_check.f_count_check_id,
final_count_check.order_id,
final_count_check.check_item,
final_count_check.sample,
final_count_check.check_number,
final_count_check.unqualify,
final_count_check.qualify,
final_count_check.cdate,
final_count_check.measure_data,
final_count_check.emp_id,
final_count_check.result,
final_count_check.note,
employee.emp_name
FROM
employee ,
final_count_check
where employee.emp_id=final_count_check.emp_id and final_count_check.order_id like CONCAT('%', #{searchValueint}, '%')
	</select>

</mapper>
